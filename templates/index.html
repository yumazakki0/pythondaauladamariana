<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Biblioteca Online</title>

    <!-- Link para o CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- T√≠tulo Principal -->
    <h1 class="titulo-principal">Biblioteca Online</h1>

    <!-- Formul√°rio de cadastro -->
    <form action="{{ url_for('adicionar') }}" method="post">
        <div class="form-group">
            <label for="nome">Nome:</label>
            <input type="text" name="nome" required>
        </div>

        <div class="form-group">
            <label for="autor">Autor:</label>
            <input type="text" name="autor" required>
        </div>

        <div class="form-group">
            <label for="edicao">Edi√ß√£o:</label>
            <input type="text" name="edicao" required>
        </div>

        <div class="form-group">
            <label for="categoria">Categoria:</label>
            <select name="categoria" required>
                <option value="Livro">Livro</option>
                <option value="Mang√°">Mang√°</option>
                <option value="Quadrinho">Quadrinho</option>
            </select>
        </div>

        <!-- Bot√£o de Adicionar -->
        <div class="form-actions">
            <button type="submit" class="btn-adicionar">Adicionar</button>
        </div>
    </form>

    <!-- Tabela de Itens Dispon√≠veis -->
    <h2 class="titulo-livros">Itens Dispon√≠veis</h2>
    <table>
        <tr>
            <th>Item</th>
            <th>Dias Emprestados</th>
            <th>A√ß√µes</th>
        </tr>
        {% for item in disponiveis %}
        <tr>
            <td>{{ item.descricao() }}</td>
            <td>
                <input type="number" name="dias" min="1" max="30" value="7" class="input-dias">
            </td>
            <td>
                <!-- Bot√£o de Excluir -->
                <form action="{{ url_for('remover', indice=loop.index0) }}" method="post" style="display:inline;">
                    <button type="submit" class="btn-excluir">Excluir</button>
                </form>
                <!-- Bot√£o de Emprestar -->
                <form action="{{ url_for('emprestar', indice=loop.index0) }}" method="post" style="display:inline;">
                    <button type="submit" class="btn-emprestar">Emprestar</button>
                </form>
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="3">Nenhum item dispon√≠vel.</td>
        </tr>
        {% endfor %}
    </table>

    <!-- Tabela de Itens Emprestados -->
    <h2 class="titulo-livros">Itens Emprestados</h2>
    <table>
        <tr>
            <th>Item</th>
            <th>Data de Devolu√ß√£o</th>
            <th>A√ß√µes</th>
        </tr>
        {% for item in emprestados %}
        <tr>
            <td>{{ item.descricao() }}</td>
            <td>{{ item.data_devolucao.strftime('%d/%m/%Y') }}</td>
            <td>
                <!-- Bot√£o de Devolver -->
                <form action="{{ url_for('devolver', indice=loop.index0) }}" method="post" style="display:inline;">
                    <button type="submit" class="btn-devolver">Devolver</button>
                </form>
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="3">Nenhum item emprestado.</td>
        </tr>
        {% endfor %}
    </table>


    <footer>
        <p>üìö Biblioteca Online - Exemplo Flask + POO</p>
        <small>&copy; 2025</small>
    </footer>
</body>
</html>
